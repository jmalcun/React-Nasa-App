(this["webpackJsonppractica-1"]=this["webpackJsonppractica-1"]||[]).push([[0],{150:function(e,a,t){},151:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(26),l=t.n(c),o=t(7),m=t(4),s=t(9),i=t(3),u=t(18),d=t(12),p=t(23),f=t.n(p),v=t(5),E=t.n(v),h=t(6),g=t.n(h),b=t(15),N=t(29),j=t.n(N);t(68),t(72);j.a.initializeApp({apiKey:"AIzaSyD1hrCir-Vwf_RBDA4xiaW3G36tAuXxuMg",authDomain:"nasa-app-ef65c.firebaseapp.com",databaseURL:"https://nasa-app-ef65c.firebaseio.com",projectId:"nasa-app-ef65c",storageBucket:"nasa-app-ef65c.appspot.com",messagingSenderId:"834959538699",appId:"1:834959538699:web:977ff0ff74ffcd06ce650e"});j.a.firestore();var y="[Auth] Login",O="[Auth] Logout",w="[fot] get fotos",_=function(e,a){return{type:y,payload:{uid:e,displayName:a}}},x=function(){return{type:O}},C=function(){var e=Object(o.b)(),a=Object(n.useState)({email:"",password:""}),t=Object(m.a)(a,2),c=t[0],l=t[1],i=c.email,p=c.password,v=function(e){var a=e.target;l(Object(d.a)(Object(d.a)({},c),{},Object(u.a)({},a.name,a.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Login"),r.a.createElement("form",{onSubmit:function(a){return a.preventDefault(),f.a.isEmail(i)?p.length<7?E.a.fire("Error","La contrase\xf1a debe contener como minimo 7 caracteres","error"):void e(function(e,a){return function(t){j.a.auth().signInWithEmailAndPassword(e,a).then((function(e){var a=e.user;t(_(a.uid,a.displayName)),E.a.fire({position:"center",icon:"success",title:"Bienvenido",showConfirmButton:!1,timer:2500})})).catch((function(e){console.log(e),"auth/user-not-found"===e.code&&(e.message="Usuario incorrecto, por favor revise el email y el password"),E.a.fire("Error",e.message,"error")}))}}(i,p)):E.a.fire("Error","Ingrese un email valido","error")}},r.a.createElement("input",{className:"auth__input",type:"text",placeholder:"Email",name:"email",autoComplete:"off",value:i,onChange:v}),r.a.createElement("input",{className:"auth__input",type:"password",placeholder:"Password",name:"password",value:p,onChange:v}),r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Login"),r.a.createElement(s.b,{to:"/auth/register",className:"link"},"Create new account")))},k=function(){var e=Object(o.b)(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(m.a)(a,2),r=t[0],c=t[1],l=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(a)},o=function(e){var a=e.target;c(Object(d.a)(Object(d.a)({},r),{},Object(u.a)({},a.name,a.value)))};return[r,o,l]}({fullName:"",email:"",birthdate:Date(),password:"",password2:""}),t=Object(m.a)(a,2),c=t[0],l=t[1],i=c.fullName,p=c.email,v=c.birthdate,h=c.password,N=c.password2,y=function(){var e=(new Date).getFullYear(),a=v.slice(0,4),t=e-Number(a);return 0===i.trim().length?(E.a.fire("Error","Por favor ingrese su nombre","error"),!1):f.a.isEmail(p)?t<13?(E.a.fire("Error","Debe ser mayor de 13 a\xf1os para ingresar","error"),!1):h.length<5?(E.a.fire("Error","La contrase\xf1a debe tener minimo 6 caracteres","error"),!1):f.a.isAlphanumeric(h)?h===N||(E.a.fire("Error","La contrase\xf1a es incorrecta","error"),!1):(E.a.fire("Error","La contrase\xf1a debe ser alfanumerica","error"),!1):(E.a.fire("Error","Por favor ingrese un Email valido","error"),!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Register"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),y()&&(e(function(e,a,t){return function(n){j.a.auth().createUserWithEmailAndPassword(e,a).then(function(){var e=Object(b.a)(g.a.mark((function e(a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.user,e.next=3,r.updateProfile({displayName:t});case 3:n(_(r.uid,r.displayName));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){E.a.fire("Error",e.message,"error")}))}}(p,h,i)),E.a.fire("Bienvenido","","success"))}},r.a.createElement("label",null,r.a.createElement("strong",null,"Name")),r.a.createElement("input",{className:"auth__input",type:"text",placeholder:"Name",name:"fullName",autoComplete:"off",value:i,onChange:l}),r.a.createElement("label",null,r.a.createElement("strong",null,"Email")),r.a.createElement("input",{className:"auth__input",type:"email",placeholder:"Email",name:"email",autoComplete:"off",value:p,onChange:l}),r.a.createElement("label",null,r.a.createElement("strong",null,"Birthdate")),r.a.createElement("input",{className:"auth__input",type:"date",name:"birthdate",autoComplete:"off",value:v,onChange:l}),r.a.createElement("label",null,r.a.createElement("strong",null,"Password")),r.a.createElement("input",{className:"auth__input",type:"password",placeholder:"Password",name:"password",value:h,onChange:l}),r.a.createElement("label",null,r.a.createElement("strong",null,"Confirm Password")),r.a.createElement("input",{className:"auth__input",type:"password",placeholder:"confirm",name:"password2",value:N,onChange:l}),r.a.createElement("button",{className:"btn btn-primary btn-block mb-5",type:"submit"},"Register"),r.a.createElement(s.b,{to:"/auth/login",className:"link"},"alredy register?")))},A=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/auth/login",component:C}),r.a.createElement(i.b,{exact:!0,path:"/auth/register",component:k}),r.a.createElement(i.a,{to:"/auth/login"}))))},L=t(30),S=function(e){var a=e.isLoggedIn,t=e.component,n=Object(L.a)(e,["isLoggedIn","component"]);return r.a.createElement("div",null,r.a.createElement(i.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/auth/login"})}})))},D=function(e){var a=e.isLoggedIn,t=e.component,n=Object(L.a)(e,["isLoggedIn","component"]);return r.a.createElement("div",null,r.a.createElement(i.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(i.a,{to:"/"}):r.a.createElement(t,e)}})))},F=function(e){var a=[];return e.forEach((function(e){var t={id:e.id,sol:e.sol,camara:{id:e.camera.id,FullName:e.camera.full_name,name:e.camera.name},img:e.img_src,rover:{id:e.rover.id,name:e.rover.name,fecha:e.rover.landing_date}};a.push(t)})),a},I=function(e){var a=[];return e.forEach((function(e){var t={img:e.img,roverName:e.rover.name,date:e.rover.fecha,id:e.id,likes:0,camFullName:e.camara.FullName,camName:e.camara.name};a.push(t)})),a},P=function(){var e=Object(b.a)(g.a.mark((function e(a){var t,n,r,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.nasa.gov/mars-photos/api/v1/rovers/opportunity/photos?sol=1000&camera=".concat(a,"&api_key=aZlmHCp3jD9sanwE8KvytidYArlTvlhwr3fEhYyM"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=r.photos,l=c.map((function(e){return{id:e.id,sol:e.sol,camara:{id:e.camera.id,FullName:e.camera.full_name,name:e.camera.name},img:e.img_src,rover:{id:e.rover.id,name:e.rover.name,fecha:e.rover.landing_date}}})),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(g.a.mark((function e(a){var t,n,r,c,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&camera=".concat(a,"&api_key=aZlmHCp3jD9sanwE8KvytidYArlTvlhwr3fEhYyM"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,c=r.photos,l=c.map((function(e){return{id:e.id,sol:e.sol,camara:{id:e.camera.id,FullName:e.camera.full_name,name:e.camera.name},img:e.img_src,rover:{id:e.rover.id,name:e.rover.name,fecha:e.rover.landing_date}}})),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),z=function(e){return"pancam"===e?"Panoramic Camera":"navcam"===e?"Navegation Camera":"fhaz"===e?"Front Hazard Avoidance Camera":"rhaz"===e?"Rear Hazard Avoidance Camera":"mast"===e?"Mast Camera":void 0},B=function(){var e=Object(o.c)((function(e){return e.fotos})).photos,a=Object(n.useState)({}),t=Object(m.a)(a,2),c=t[0],l=t[1],s=I(e);Object(n.useEffect)((function(){l(function(e){return e[Math.floor(Math.random()*e.length)]}(s))}),[l]);var i=c.img,u=c.roverName,d=c.date,p=c.id,f=(c.likes,c.camName);console.log(c);var v=Object(n.useState)(!1),E=Object(m.a)(v,2),h=E[0],g=E[1],b=Object(n.useState)(0),N=Object(m.a)(b,2),j=N[0],y=N[1];return j,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mt-5"},r.a.createElement("img",{className:"card-img-top",src:i,alt:f}),r.a.createElement("div",{className:"card text-left"},r.a.createElement("i",{className:h?"fas fa-heart":"far fa-heart",onClick:function(){h?(y(j-1),g(!h)):(y(j+1),g(!h))}})),r.a.createElement("div",{className:"card text-right"},r.a.createElement("span",{className:"text-muted"},u),r.a.createElement("span",{className:"text-muted"},d),r.a.createElement("span",{className:"text-muted"},p),r.a.createElement("span",{className:"text-muted"}," ",j," likes"))))},H=function(){var e=Object(o.c)((function(e){return e.fotos})).loading;return console.log(e),r.a.createElement("div",null,e?r.a.createElement("h4",{className:"row justify-content-center"},"Loading..."):r.a.createElement(B,null))},R=function(e){var a=e.img,t=e.roverName,n=e.date,c=e.id,l=e.likes,o=e.camName;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mt-5 mr-2",style:{width:"18rem"}},r.a.createElement("img",{className:"card-img-top",src:a,alt:o}),r.a.createElement("div",{className:"card text-right"},r.a.createElement("span",{className:"text-muted"},t),r.a.createElement("span",{className:"text-muted"},n),r.a.createElement("span",{className:"text-muted"},c),r.a.createElement("span",{className:"text-muted"}," ",l," likes"))))},Y=function(e){var a=e.img,t=e.roverName,n=e.date,c=e.id,l=e.likes,o=(e.camFullName,e.camName);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card mt-5 mr-2",style:{width:"18rem"}},r.a.createElement("img",{className:"card-img-top",src:a,alt:o}),r.a.createElement("div",{className:"card text-right"},r.a.createElement("span",{className:"text-muted"},t),r.a.createElement("span",{className:"text-muted"},n),r.a.createElement("span",{className:"text-muted"},c),r.a.createElement("span",{className:"text-muted"}," ",l," likes"))))},T=function(){var e=Object(n.useState)("pancam"),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)("fhaz"),o=Object(m.a)(l,2),s=o[0],i=o[1],u=function(e){var a=Object(n.useState)({data:[],loaded:!0,camName:e}),t=Object(m.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){return P(e).then((function(a){return c({data:I(a),loaded:!1,camName:z(e)})})),function(){c({data:[],loaded:!0,camName:e})}}),[e]),r}(t),d=u.camName,p=u.data,f=u.loaded,v=function(e){var a=Object(n.useState)({dataCur:[],loaded2:!0,camNameC:e}),t=Object(m.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){return M(e).then((function(a){return c({dataCur:I(a),loaded2:!1,camNameC:z(e)})})),function(){c({dataCur:[],loaded2:!0,camNameC:e})}}),[e]),r}(s),E=v.camNameC,h=v.dataCur,g=v.loaded2;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h3",{className:"titulo"}," Curiosity: ",!g&&E,"  ")),r.a.createElement("div",{className:"col-2"},r.a.createElement("label",{className:"titulo mr-2"}," Camera "),r.a.createElement("select",{name:"curiosity",value:s,onChange:function(e){e.preventDefault(),i(e.target.value)}},r.a.createElement("option",{value:"fhaz"},"FHAZ"),r.a.createElement("option",{value:"rhaz"},"RHAZ"),r.a.createElement("option",{value:"mast"},"MAST")))),r.a.createElement("div",{id:"cajon1",className:"container-fluid"},r.a.createElement("div",{className:"row"},g&&r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",null,"Loading...")),h.map((function(e){return r.a.createElement(R,Object.assign({key:e.id},e))}))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10"},r.a.createElement("h3",{className:"titulo"},"Opportunity: ",!f&&d,"  ")),r.a.createElement("div",{className:"col-2"},r.a.createElement("label",{className:"mr-2 titulo"}," Camera "),r.a.createElement("select",{name:"oportunity",value:t,onChange:function(e){e.preventDefault(),c(e.target.value)}},r.a.createElement("option",{value:"pancam"},"PANCAM"),r.a.createElement("option",{value:"navcam"},"NAVCAM")))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row row-horizon"},f&&r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",null,"Loading...")),p.map((function(e){return r.a.createElement(Y,Object.assign({key:e.id},e))}))))))},Z=function(){var e=Object(o.b)();return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("div",{className:"navbar-collapse"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement("span",{className:"navbar-item nav-link text-info"},r.a.createElement("h5",null,"Juan")))),r.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement(s.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/home"},"Image Day"),r.a.createElement(s.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/image/galery"},"Image Galery"),r.a.createElement("button",{className:"nav-item nav-link btn  btn-outline-danger",onClick:function(){e(function(){var e=Object(b.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.auth().signOut();case 2:a(x());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},"Logout"))))},K=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement("div",{className:"container mt-2"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/home",component:H}),r.a.createElement(i.b,{exact:!0,path:"/image/galery",component:T}),r.a.createElement(i.a,{to:"/home"}))))},U=function(e){return{type:w,payload:e}},J=function(){var e=Object(o.b)(),a=Object(n.useState)(!1),t=Object(m.a)(a,2),c=t[0],l=t[1],u=Object(n.useState)(!0),d=Object(m.a)(u,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){j.a.auth().onAuthStateChanged((function(a){(null===a||void 0===a?void 0:a.uid)?(e(_(a.uid,a.displayName)),l(!0),e(function(){var e=Object(b.a)(g.a.mark((function e(a){var t,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,fetch("https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?sol=1000&api_key=aZlmHCp3jD9sanwE8KvytidYArlTvlhwr3fEhYyM");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=n.photos,c=F(r),a(U(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}())):l(!1),f(!1)}))}),[e,f,l]),p?r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement("h1",{className:"auth__title"},"Loading..."))):r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(D,{path:"/auth",component:A,isLoggedIn:c}),r.a.createElement(S,{path:"/",component:K,isLoggedIn:c}),r.a.createElement(i.a,{to:"/auth/login"}))))},V=t(16),W=t(56),X=t(57),G={photos:[],loading:!0},q="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,Q=Object(V.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case y:return Object(d.a)(Object(d.a)({},e),{},{uid:a.payload.uid,name:a.payload.displayName});case O:return{};default:return e}},fotos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w:return Object(d.a)(Object(d.a)({},e),{},{photos:Object(X.a)(a.payload),loading:!1});default:return e}}}),$=Object(V.e)(Q,q(Object(V.a)(W.a))),ee=function(){return r.a.createElement(o.a,{store:$},r.a.createElement(J,null))};t(150);l.a.render(r.a.createElement(ee,null),document.getElementById("root"))},58:function(e,a,t){e.exports=t(151)}},[[58,1,2]]]);
//# sourceMappingURL=main.9cd2bcda.chunk.js.map